# Cactus app 
![GitHub last commit](https://img.shields.io/github/last-commit/Krystian19/cactus-app.svg?style=popout-square) ![GitHub](https://img.shields.io/github/license/Krystian19/cactus-app.svg?style=popout-square)

Cactus app is an open source service to stream your favorite anime.

## Services
|  [Client Repo](https://github.com/Krystian19/cactus-app-client-service) | [Backend Repo](https://github.com/Krystian19/cactus-app-backend-service/tree/master) | [Admin Repo](https://github.com/Krystian19/cactus-app-backend-admin-service/tree/master) |
|:---------------------:|:---------------------:|:---------------------:|
| [![Build Status](https://travis-ci.org/Krystian19/cactus-app-client-service.svg?branch=master)](https://travis-ci.org/Krystian19/cactus-app-client-service) [![Codacy Badge](https://api.codacy.com/project/badge/Grade/166aa4764f6244538723d85594ab60b7)](https://www.codacy.com/app/janfrancisco19/cactus-app-client-service?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=Krystian19/cactus-app-client-service&amp;utm_campaign=Badge_Grade) [![Test Coverage](https://codecov.io/gh/Krystian19/cactus-app-client-service/branch/master/graph/badge.svg)](https://codecov.io/gh/Krystian19/cactus-app-client-service) | [![Build Status](https://travis-ci.org/Krystian19/cactus-app-backend-service.svg?branch=master)](https://travis-ci.org/Krystian19/cactus-app-backend-service) [![Codacy Badge](https://api.codacy.com/project/badge/Grade/103013eebdfa4de6a76ac2aa13069982)](https://www.codacy.com/app/janfrancisco19/cactus-app-backend-service?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=Krystian19/cactus-app-backend-service&amp;utm_campaign=Badge_Grade) [![Test Coverage](https://codecov.io/gh/Krystian19/cactus-app-backend-service/branch/master/graph/badge.svg)](https://codecov.io/gh/Krystian19/cactus-app-backend-service) | [![Build Status](https://travis-ci.org/Krystian19/cactus-app-backend-admin-service.svg?branch=master)](https://travis-ci.org/Krystian19/cactus-app-backend-admin-service) [![Codacy Badge](https://api.codacy.com/project/badge/Grade/5f62f9c87bd7405395824d035a372cbb)](https://www.codacy.com/app/janfrancisco19/cactus-app-backend-admin-service?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=Krystian19/cactus-app-backend-admin-service&amp;utm_campaign=Badge_Grade) [![Test Coverage](https://codecov.io/gh/Krystian19/cactus-app-backend-admin-service/branch/master/graph/badge.svg)](https://codecov.io/gh/Krystian19/cactus-app-backend-admin-service) |

|  [Image CDN Repo](https://github.com/Krystian19/cactus-fake-image-cdn-service/tree/master) | [Video CDN Repo](https://github.com/Krystian19/cactus-fake-video-cdn-service/tree/master) |
|:---------------------:|:---------------------:|
| [![Build Status](https://travis-ci.org/Krystian19/cactus-fake-image-cdn-service.svg?branch=master)](https://travis-ci.org/Krystian19/cactus-fake-image-cdn-service) [![Codacy Badge](https://api.codacy.com/project/badge/Grade/f532765d7ee248499c7a3ef4ff1f474c)](https://www.codacy.com/app/janfrancisco19/cactus-fake-image-cdn-service?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=Krystian19/cactus-fake-image-cdn-service&amp;utm_campaign=Badge_Grade)  [![Test Coverage](https://codecov.io/gh/Krystian19/cactus-fake-image-cdn-service/branch/master/graph/badge.svg)](https://codecov.io/gh/Krystian19/cactus-fake-image-cdn-service) | [![Build Status](https://travis-ci.org/Krystian19/cactus-fake-video-cdn-service.svg?branch=master)](https://travis-ci.org/Krystian19/cactus-fake-video-cdn-service) [![Codacy Badge](https://api.codacy.com/project/badge/Grade/65bb1660e35a4cc8ad38b0e8ad425c8f)](https://www.codacy.com/app/janfrancisco19/cactus-fake-video-cdn-service?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=Krystian19/cactus-fake-video-cdn-service&amp;utm_campaign=Badge_Grade) [![Test Coverage](https://codecov.io/gh/Krystian19/cactus-fake-video-cdn-service/branch/master/graph/badge.svg)](https://codecov.io/gh/Krystian19/cactus-fake-video-cdn-service) |

## Internal Tools & Libraries
|  [GraphQL Schema Module](https://github.com/Krystian19/cactus-app-schema-module/tree/master) | [JS DB module](https://github.com/Krystian19/cactus-app-db-module/tree/master) | [JS Logger module](https://github.com/Krystian19/cactus-app-js-logger-module)
|:---------------------:|:---------------------:|:---------------------:|
| [![Build Status](https://travis-ci.org/Krystian19/cactus-app-schema-module.svg?branch=master)](https://travis-ci.org/Krystian19/cactus-app-schema-module) [![Codacy Badge](https://api.codacy.com/project/badge/Grade/e73cfab590104795ac1b2a7b39eb8136)](https://www.codacy.com/app/janfrancisco19/cactus-app-schema-module?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=Krystian19/cactus-app-schema-module&amp;utm_campaign=Badge_Grade) [![Test Coverage](https://codecov.io/gh/Krystian19/cactus-app-schema-module/branch/master/graph/badge.svg)](https://codecov.io/gh/Krystian19/cactus-app-schema-module)      | [![Build Status](https://travis-ci.org/Krystian19/cactus-app-db-module.svg?branch=master)](https://travis-ci.org/Krystian19/cactus-app-db-module) [![Codacy Badge](https://api.codacy.com/project/badge/Grade/5fbaf1e4fe25483fa34819f10c628ffb)](https://www.codacy.com/app/janfrancisco19/cactus-app-db-module?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=Krystian19/cactus-app-db-module&amp;utm_campaign=Badge_Grade) [![Test Coverage](https://codecov.io/gh/Krystian19/cactus-app-db-module/branch/master/graph/badge.svg)](https://codecov.io/gh/Krystian19/cactus-app-db-module)      | [![Build Status](https://travis-ci.org/Krystian19/cactus-app-js-logger-module.svg?branch=master)](https://travis-ci.org/Krystian19/cactus-app-js-logger-module) [![Codacy Badge](https://api.codacy.com/project/badge/Grade/a630bd46e14a42cba04dde7f7147e039)](https://www.codacy.com/app/janfrancisco19/cactus-app-js-logger-module?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=Krystian19/cactus-app-js-logger-module&amp;utm_campaign=Badge_Grade) [![Test Coverage](https://codecov.io/gh/Krystian19/cactus-app-js-logger-module/branch/master/graph/badge.svg)](https://codecov.io/gh/Krystian19/cactus-app-js-logger-module)

|  [Video editing tool](https://github.com/Krystian19/cactus-app-video-editing-tool)
|:---------------------:|
| [![Codacy Badge](https://api.codacy.com/project/badge/Grade/ae6331fb07014972808b53125a820964)](https://www.codacy.com/app/janfrancisco19/cactus-app-video-editing-tool?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=Krystian19/cactus-app-video-editing-tool&amp;utm_campaign=Badge_Grade)

## Screenshots
![Alt text](screenshots/capture1.png?raw=true "Anime Description view")

# Requirements

+ **Do you have Docker installed ?**
```sh
docker -v
  Docker version 18.03.0-ce # Or later
```

+ **Do you have git-lfs installed ?**
```sh
git-lfs --version
  git-lfs/2.5.2 (GitHub; darwin amd64; go 1.11) # Or later
```

# How to setup
Clone this project with all of it's modules recursively (it's a little heavy, so it'll take a bit):

```sh
git clone --recurse-submodules git@github.com:Krystian19/cactus-app.git
```

And start the project with:
```sh
docker-compose up -d
```

Then run the seeders to have some basic data ...
```sh
# Run the seeders
docker exec -ti cactus_backend_admin /code/seeds.sh
```

And voilà, the web client should be running @ http://localhost:5000/

## Todos
+ - [x] Remove logger points in the client service that are not useful
  + - [x] Remove the video proxy logger
  + - [x] Remove the image proxy logger
  + - [x] Setup logger event for when a service fails, and shutdown
+ - [x] Include the logger in the backend service for all incoming graphQL requests
+ - [ ] Setup glossary of services in the Meta project's README.md
+ - [ ] Setup multi-language support for the client
  + - [ ] Setup a way of signaling that an episode is only available in a certain language
  + - [ ] Caption support for the video player, video server and backend admin
+ - [ ] Setup views tracking of the anime video view
+ - [ ] Setup the django admin to leverage massive anime content amounts
+ - [ ] Setup a way in the anime info view to connect with the next season
+ - [ ] Setup db support for movies and ovas
+ - [ ] Setup support for episodes that are not available in the user's browser language
+ - [ ] Setup schedule view support for episodes that are out but not translated
+ - [ ] Setup schedule view support for delayed episodes
  + - [ ] Set time countdown for an episode in the anime info view (state delayed episodes)
+ - [ ] Setup SEO support for the whole application
  + - [ ] Setup SEO support for every anime episode detail view
+ - [ ] Add picture-in-picture functionality to the video player
+ - [ ] Implement HLS streaming for the video player view
  + - [x] Study how to implement HLS properly
  + - [x] Implment a proper HLS Video player
  + - [x] Implement a proper local HLS server for development
  + - [ ] Set video server to serve static subtitle files 
+ - [ ] Define a proper pipeline that edits videos programmatically
  + - [x] Develop cli to interact with video editing pipeline
  + - [x] Apply steps of the process programmatically
  + - [ ] Setup cactus intro video sequence for edited videos
  + - [ ] Include subtitle time editing (modify subtitle appearance times)
  + - [ ] Setup proper cactus watermark
  + - [ ] Setup proper cactus intro sequence in the edited videos
+ - [ ] Implement a not found page for content that is not found
  + - [ ] Setup component to be used in such cases
+ - [ ] Create an error component to show if the client's requests fails
  + - [ ] Create a method of handling request failures that can be used universally between components.
+ - [ ] Add more series to the backend-admin's seeding script data
+ - [ ] Complete missing tests of backend admin's models
+ - [ ] Complete model tests for the db module
+ - [ ] Study how to convert the Frontend app in a Desktop native app
  + - [ ] Study how to distribute updates to said Desktop app

## License
MIT © [Jan Guzman](https://github.com/Krystian19)
